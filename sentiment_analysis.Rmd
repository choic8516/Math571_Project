---
title: "Math571_project"
output: html_document
---

# Converting headlines into scores (using SentimentAnalysis package)
```{r}
library(xlsx)
library(tidyverse)
library(SentimentAnalysis)

data_1 <- read.xlsx("nyt_headlines.xls", sheetIndex = 1,stringsAsFactors=FALSE)
subset_of_data_1 <- data_1[1:2,-1]

#I added a restriction to the analyeSentiment function so it only calculates
#with the GI dictionary, wich makes it much more efficient
convert_to_score <- function(df) {
        sentiment <- analyzeSentiment(df,
                              rules=list("SentimentGI"=list(ruleSentiment, 
                                                            loadDictionaryGI())))
        return(sentiment$SentimentGI) 
}
sentiment <- analyzeSentiment(subset_of_data_1[1],
                              rules=list("SentimentLM"=list(ruleSentiment, 
                                                            loadDictionaryLM())))
sentiment <- analyzeSentiment(subset_of_data_1[1],
                              rules=list("SentimentGI"=list(ruleSentiment, 
                                                            loadDictionaryGI())))

# this following operation takes about 20 seconds for my laptop. I feel like it takes little too long. 
data_sentiment <- lapply(subset_of_data_1[-1], convert_to_score)
data_sentiment<-as.data.frame(data_sentiment)
data_sentiment
#write.csv(data_sentiment,"ignore_scores2.csv")
```


